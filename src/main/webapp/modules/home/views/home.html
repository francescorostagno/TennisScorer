<nav class="navbar  navbar-dark bg-primary">
    <span class="navbar-brand mb-0 h1">HOME</span>
    <span class="navbar-brand mb-0 ">You're logged in!!  {{ username }}</span>
    <span class="navbar-brand mb-0 ">Your role is : {{ role}}</span>
    <a class="navbar-brand" href="#/login">Logout</a></a>
</nav>
<br>
<div>
    <img id="image_logo" class="image_logo" src="image/atp.png">
</div>
<div class="container">
    <div class="row">
        <div class="col">
            <div ng-controller = "HomeController" ng-hide="role == 'user'">
                <h2>Create User:</h2>
                <div  style="margin: 5px">
                    <label for="newUsername" >Username: </label>
                    <input type="text" id="newUsername" ng-model="newUsername" />
                </div>
                <div  style="margin: 5px">
                    <label for="newPassword" >Password: </label>
                    <input type="password" id="newPassword" ng-model="newPassword" />
                </div>
                <div style="margin: 5px">
                    <label for="newEmail" >Email: </label>
                    <input type="email" id="newEmail" ng-model="newEmail" />
                </div>
                <button ng-click="createUser()" type="button" class="btn btn-primary" style="margin: 10px">Create User</button>
            </div>
        </div>
        <div class="col">
            <div ng-controller = "HomeController" ng-hide="role == 'user'">
                <h2>Upload New File: </h2>
                <input type = "file" file-model = "myFile"  ng-click = "uploadFile()" class="custom-file-input"/>
            </div>
        </div>
    </div>
</div>

<div>
    <h2>Search</h2>
    <label>
        <select class="js-example-basic-single" name="searchType" style="width: 200px" >
            <option></option>
            <option ng-repeat="s in searchValue" value="{{ s.value }}">
                {{ s.displayName }}
            </option>
        </select>
    </label>
</div>
<br>
<div ng-controller="HomeController" class="searchType hide" id="playerName">
    <form ng-submit="submitPlayer()" >
        <label for="playerNameLabel" >Player Name: </label>
        <input type="text" id="playerNameLabel" ng-model="playerName" />
    </form>
    <div ng-show="player !== null"  class="table-wrapper-scroll-y my-custom-scrollbar" >
        <table id='playerTable'  class="table table-bordered table-striped mb-0" >
            <thead>
            <tr>
                <td>Player Name: </td>
                <td>Hand: </td>
                <td>Birth Date: </td>
                <td>Country Code: </td>
            </tr>
            </thead>
            <tbody>
            <tr>
                <td>{{player.player}}</td>
                <td>{{player.hand}}</td>
                <td>{{player.birthDate | date: "MM/dd/yyyy"}}</td>
                <td>{{player.countryCode}}</td>
            </tr>
            </tbody>

        </table>
    </div>
</div>
<div ng-controller="HomeController" class="searchType hide" id="tourneyName">
    <form ng-submit="submitTourney()" >
        <label for="tourneyNameLabel" >Tourney Name: </label>
        <input type="text" id="tourneyNameLabel" ng-model="tourneyName" />
    </form>
    <div  ng-show="tourney.length > 0" class="table-wrapper-scroll-y my-custom-scrollbar"  >
        <table class="table table-bordered table-striped mb-0">
            <thead>
            <tr>
                <td>Winner Name: </td>
                <td>Loser Name: </td>
                <td>Tourney Date: </td>
            </tr>
            </thead>
            <tbody ng-repeat=" t in tourney">
            <tr>
                <td>{{ t.winnerName}}</td>
                <td>
                    {{ t.loserName}}
                </td>
                <td>
                    {{ t.tourneyDate | date: "MM/dd/yyyy"}}
                </td>
            </tr>
            </tbody>
        </table>
    </div>
</div>
<div ng-controller="HomeController" class="searchType hide" id="goldenRegister">
    <form ng-submit="submitGoldenRegister()" >
        <label for="goldenRegisterLabel" >Tourney Name: </label>
        <input type="text" id="goldenRegisterLabel" ng-model="goldenRegister" />
    </form>
    <div  ng-show="goldenRegisterArray.length > 0" class="table-wrapper-scroll-y my-custom-scrollbar">
        <table class="table table-bordered table-striped mb-0">
            <thead>
            <tr>
                <td>Winner Name: </td>
                <td>Loser Name: </td>
                <td>Tourney Date: </td>
                <td>Surface: </td>
            </tr>
            </thead>
            <tbody ng-repeat=" g in goldenRegisterArray">
            <tr>
                <td>{{ g.winnerName}}</td>
                <td>
                    {{ g.loserName}}
                </td>
                <td>
                    {{  g.tourneyDate | date: "MM/dd/yyyy"}}
                </td>
                <td>
                    {{ g.surface}}
                </td>
            </tr>
            </tbody>
        </table>
    </div>

</div>
<div ng-controller="HomeController" class="searchType hide" id="tourneyMatch">
    <form ng-submit="submitTourneyMatch()" >
        <label for="tourneyMatchLabel" >Tourney ID: </label>
        <input type="text" id="tourneyMatchLabel" ng-model="tourneyMatchId" />
    </form>
    <div ng-show="tourneyMatchsArray.length > 0" class="table-wrapper-scroll-y my-custom-scrollbar"  >
        <table class="table table-bordered table-striped mb-0" id="tourneyMatchTable" >
            <thead>
            <tr>
                <td>Winner Player: </td>
                <td>Loser Player: </td>
                <td>Score: </td>
                <td>Match Number: </td>
                <td>Match Date: </td>
                <td>Statistics: </td>
            </tr>
            </thead>
            <tbody ng-repeat=" tm in tourneyMatchsArray">
            <tr>
                <td>{{ tm.winnerPlayer}}</td>
                <td>
                    {{ tm.loserPlayer}}
                </td>
                <td>
                    {{ tm.score}}
                </td>
                <td>
                    {{ tm.matchNum}}
                </td>
                <td>
                    {{ tm.matchDate | date: "MM/dd/yyyy"}}
                </td>
                <td>
                    <ul  class="overflow-auto" ng-repeat=" (key, value)  in tm.matchStatistics">
                        <li>{{ key }} : {{ value}}</li>
                    </ul>
                </td>
            </tr>
            </tbody>
        </table>
    </div>

</div>
<div ng-controller="HomeController" class="searchType hide" id="rankingPlayer">
    <form ng-submit="submitPlayerRanking()" >
        <label for="rankingPlayerLabel" >Player Name: </label>
        <input type="text" id="rankingPlayerLabel" ng-model="playerNameRanking" />
    </form>
    <div ng-show="playerRankingsArray.length > 0" class="table-wrapper-scroll-y my-custom-scrollbar" >
        <table class="table table-bordered table-striped mb-0" id="playerRankingTable" >
            <thead>
            <tr>
                <th class="th-sm">Rank: </th>
                <th class="th-sm">Points: </th>
                <th class="th-sm">Date: </th>
            </tr>
            </thead>
            <tbody ng-repeat=" pr in playerRankingsArray">
            <tr>
                <td>{{ pr.rank}}</td>
                <td>
                    {{ pr.points}}
                </td>
                <td>
                    {{ pr.rankingDate | date: "MM/dd/yyyy"}}
                </td>
            </tr>
            </tbody>
        </table>
    </div>

</div>
<div ng-controller="HomeController" class="searchType hide" id="dateRangeTourney">
    <form ng-submit="submitDateRangeTourney()" >
        <label for="dateStartRangeTourneyLabel" >Date Start: </label>
        <input type="text" id="dateStartRangeTourneyLabel" ng-model="dateStartRangeTourney" />
        <label for="dateEndRangeTourneyLabel" >Date End: </label>
        <input type="text" id="dateEndRangeTourneyLabel" ng-model="dateEndRangeTourney" />
        <input type="submit" value="Submit"/>
    </form>
    <div ng-show="dateRangeTourneyArray.length > 0" class="table-wrapper-scroll-y my-custom-scrollbar" >
        <table class="table table-bordered table-striped mb-0" id="dateRangeTourneyTable" >
            <thead>
            <tr>
                <th class="th-sm">Tourney Name: </th>
                <th class="th-sm">Winner Player: </th>
                <th class="th-sm">Loser Player: </th>
                <th class="th-sm">Tourney Data: </th>
                <th class="th-sm">Level: </th>
                <th class="th-sm">Surface: </th>
            </tr>
            </thead>
            <tbody ng-repeat=" drt in dateRangeTourneyArray">
            <tr>
                <td>{{ drt.tourneyName}}</td>
                <td>
                    {{ drt.winnerName}}
                </td>
                <td>
                    {{ drt.loserName}}
                </td>
                <td>
                    {{ drt.tourneyDate | date: "MM/dd/yyyy"}}
                </td>
                <td>
                    {{ drt.surface}}
                </td>
                <td>
                    {{ drt.level}}
                </td>
            </tr>
            </tbody>
        </table>
    </div>

</div>

<div ng-controller="HomeController" class="searchType hide" id="dateBirthRangePlayer">
    <form ng-submit="submitDateBirthRangePlayer()" >
        <label for="dateStartRangePlayerLabel" >Date Start: </label>
        <input type="text" id="dateStartRangePlayerLabel" ng-model="dateStartRangeBirthPlayer" />
        <label for="dateEndRangePlayerLabel" >Date End: </label>
        <input type="text" id="dateEndRangePlayerLabel" ng-model="dateEndRangeBirthPlayer" />
        <input type="submit" value="Submit"/>
    </form>
    <div ng-show="playerDateBirthRange.length > 0" class="table-wrapper-scroll-y my-custom-scrollbar" >
        <table class="table table-bordered table-striped mb-0" id="dateRangePlayerTable" >
            <thead>
            <tr>
                <th class="th-sm">Player Name: </th>
                <th class="th-sm">Hand: </th>
                <th class="th-sm">Country Code: </th>
                <th class="th-sm">Birthday: </th>
            </tr>
            </thead>
            <tbody ng-repeat=" pdbr in playerDateBirthRange">
            <tr>
                <td>{{ pdbr.playerName}}</td>
                <td>
                    {{ pdbr.hand}}
                </td>
                <td>
                    {{ pdbr.countryCode}}
                </td>
                <td>
                    {{ pdbr.birthDate | date: "MM/dd/yyyy"}}
                </td>
            </tr>
            </tbody>
        </table>
    </div>

</div>


<script>
    $(document).ready(function() {
        $('.js-example-basic-single').select2();
        $('.searchType').hide();

        $('select[name=searchType]').change(function (){
           $('.searchType').hide();
            $('#' + $(this).val()).show();
        })

    });
</script>
